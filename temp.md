Perfect â€” letâ€™s enhance your cleanup script to:
âœ… delete files/folders older than 10 minutes,
âœ… count how many it deleted, and
âœ… log the count + timestamp to a file (so you can confirm itâ€™s running).

---

## ðŸ§¾ Updated Script: `~/cleanup_old_files.sh`

```bash
#!/bin/bash
# ================================
# Cleanup Script with Logging
# ================================

# Folder to clean
TARGET_DIR="/path/to/your/folder"

# Log file path
LOG_FILE="$HOME/cleanup_log.txt"

# Current timestamp
NOW=$(date '+%Y-%m-%d %H:%M:%S')

# Find and delete files/folders older than 10 minutes, count them
COUNT=$(find "$TARGET_DIR" -mindepth 1 -mmin +10 | wc -l)
find "$TARGET_DIR" -mindepth 1 -mmin +10 -exec rm -rf {} \; 2>/dev/null

# Log output
echo "[$NOW] Deleted $COUNT items from $TARGET_DIR" >> "$LOG_FILE"
```

---

### ðŸ§© What it does

* `find "$TARGET_DIR" -mindepth 1 -mmin +10`
  â†’ Lists all files and subfolders older than 10 minutes.
* `wc -l`
  â†’ Counts how many.
* `rm -rf {}`
  â†’ Deletes them (quietly, ignoring errors).
* `echo ... >> "$LOG_FILE"`
  â†’ Appends a line to the log like:

  ```
  [2025-10-06 13:45:02] Deleted 7 items from /Users/sri/Downloads/temp
  ```

---

### ðŸ”§ Setup once

1. Save the script:

   ```bash
   nano ~/cleanup_old_files.sh
   ```
2. Paste the above code.
3. Make it executable:

   ```bash
   chmod +x ~/cleanup_old_files.sh
   ```

---

### ðŸ§­ Optional: Run every 5 minutes via cron

```bash
crontab -e
```

Add:

```bash
*/5 * * * * /Users/yourname/cleanup_old_files.sh >/dev/null 2>&1
```

---

### âœ… Check log anytime

```bash
cat ~/cleanup_log.txt
```

Example output:

```
[2025-10-06 13:00:01] Deleted 3 items from /Users/sri/Downloads/temp
[2025-10-06 13:05:01] Deleted 0 items from /Users/sri/Downloads/temp
[2025-10-06 13:10:01] Deleted 5 items from /Users/sri/Downloads/temp
```

---

Would you like me to modify it to **keep only the last N log lines** (say last 100 entries) so the file doesnâ€™t grow too large?
